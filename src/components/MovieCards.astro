---
import { getEntry, getEntries } from 'astro:content'

const movies = await getEntry('movies', 'movie-list')
---

<section class="body-font mt-16 text-gray-600">
	<div class="container mx-auto px-5 py-2">
		<div class="mb-10 flex w-full flex-wrap">
			<div class="mb-6 w-full lg:mb-0 lg:w-1/2">
				<h1 class="title-font text-2xl font-medium text-slate-100 sm:text-3xl">Movies</h1>
				<div class="h-1 w-20 rounded bg-indigo-500"></div>
			</div>
		</div>
		<div class="flex">
			{
				movies &&
					movies.data.map((value, index) => {
						return (
							<div
								class="peer -ml-20 transition-all duration-200 first:ml-0 hover:-translate-y-10 
										hover:scale-110 peer-hover:translate-x-24 md:w-1/2 lg:w-1/4 xl:w-1/5 2xl:w-1/6"
							>
								<a
									href={`/details/${value.id}`}
									class="group relative flex h-48 flex-col overflow-hidden rounded-lg 
										 bg-gray-100 shadow-lg md:h-64 xl:h-96"
								>
									<img
										transition:persist
										transition:name={value.imgURL}
										src={value.imgURL}
										class="absolute inset-0 h-full w-full object-cover object-center transition duration-200"
									/>
									<div
										class="pointer-events-none absolute inset-0 
												bg-gradient-to-t from-gray-800 to-transparent md:via-transparent"
									/>
									<div class="relative mt-auto p-4">
										<span class="block text-sm text-gray-200">{value.releaseYear}</span>
										<h2
											class="mb-2 text-xl font-semibold text-white transition duration-100"
											transition:name={value.name}
										>
											{value.name}
										</h2>

										<span class="font-semibold text-indigo-300">View more</span>
									</div>
								</a>
							</div>
						)
					})
			}
		</div>
	</div>
</section>
